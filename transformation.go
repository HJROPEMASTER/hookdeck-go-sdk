// This file was auto-generated by Fern from our API Definition.

package api

import (
	fmt "fmt"
	core "github.com/hookdeck/hookdeck-go-sdk/core"
	time "time"
)

type TransformationCreateRequest struct {
	// A unique, human-friendly name for the transformation
	Name string `json:"name"`
	// JavaScript code to be executed as string
	Code string `json:"code"`
	// Key-value environment variables to be passed to the transformation
	Env *core.Optional[map[string]string] `json:"env,omitempty"`
}

type TransformationListRequest struct {
	Id      []*string                         `json:"-"`
	Name    *string                           `json:"-"`
	OrderBy *TransformationListRequestOrderBy `json:"-"`
	Dir     *TransformationListRequestDir     `json:"-"`
	Limit   *int                              `json:"-"`
	Next    *string                           `json:"-"`
	Prev    *string                           `json:"-"`
}

type TransformationListExecutionRequest struct {
	LogLevel  *TransformationListExecutionRequestLogLevel `json:"-"`
	WebhookId []*string                                   `json:"-"`
	IssueId   []*string                                   `json:"-"`
	CreatedAt *time.Time                                  `json:"-"`
	OrderBy   *TransformationListExecutionRequestOrderBy  `json:"-"`
	Dir       *TransformationListExecutionRequestDir      `json:"-"`
	Limit     *int                                        `json:"-"`
	Next      *string                                     `json:"-"`
	Prev      *string                                     `json:"-"`
}

type TransformationRunRequest struct {
	// Key-value environment variables to be passed to the transformation
	Env *core.Optional[map[string]string] `json:"env,omitempty"`
	// ID of the connection to use for the execution `context`
	WebhookId *core.Optional[string] `json:"webhook_id,omitempty"`
	// JavaScript code to be executed
	Code *core.Optional[string] `json:"code,omitempty"`
	// Transformation ID
	TransformationId *core.Optional[string] `json:"transformation_id,omitempty"`
	// Request input to use for the transformation execution
	Request *core.Optional[TransformationRunRequestRequest] `json:"request,omitempty"`
	EventId *core.Optional[string]                          `json:"event_id,omitempty"`
}

type TransformationListExecutionRequestDir string

const (
	TransformationListExecutionRequestDirAsc  TransformationListExecutionRequestDir = "asc"
	TransformationListExecutionRequestDirDesc TransformationListExecutionRequestDir = "desc"
)

func NewTransformationListExecutionRequestDirFromString(s string) (TransformationListExecutionRequestDir, error) {
	switch s {
	case "asc":
		return TransformationListExecutionRequestDirAsc, nil
	case "desc":
		return TransformationListExecutionRequestDirDesc, nil
	}
	var t TransformationListExecutionRequestDir
	return "", fmt.Errorf("%s is not a valid %T", s, t)
}

func (t TransformationListExecutionRequestDir) Ptr() *TransformationListExecutionRequestDir {
	return &t
}

type TransformationListExecutionRequestLogLevel string

const (
	TransformationListExecutionRequestLogLevelDebug TransformationListExecutionRequestLogLevel = "debug"
	TransformationListExecutionRequestLogLevelInfo  TransformationListExecutionRequestLogLevel = "info"
	TransformationListExecutionRequestLogLevelWarn  TransformationListExecutionRequestLogLevel = "warn"
	TransformationListExecutionRequestLogLevelError TransformationListExecutionRequestLogLevel = "error"
	TransformationListExecutionRequestLogLevelFatal TransformationListExecutionRequestLogLevel = "fatal"
)

func NewTransformationListExecutionRequestLogLevelFromString(s string) (TransformationListExecutionRequestLogLevel, error) {
	switch s {
	case "debug":
		return TransformationListExecutionRequestLogLevelDebug, nil
	case "info":
		return TransformationListExecutionRequestLogLevelInfo, nil
	case "warn":
		return TransformationListExecutionRequestLogLevelWarn, nil
	case "error":
		return TransformationListExecutionRequestLogLevelError, nil
	case "fatal":
		return TransformationListExecutionRequestLogLevelFatal, nil
	}
	var t TransformationListExecutionRequestLogLevel
	return "", fmt.Errorf("%s is not a valid %T", s, t)
}

func (t TransformationListExecutionRequestLogLevel) Ptr() *TransformationListExecutionRequestLogLevel {
	return &t
}

type TransformationListExecutionRequestOrderBy string

const (
	TransformationListExecutionRequestOrderByCreatedAt TransformationListExecutionRequestOrderBy = "created_at"
)

func NewTransformationListExecutionRequestOrderByFromString(s string) (TransformationListExecutionRequestOrderBy, error) {
	switch s {
	case "created_at":
		return TransformationListExecutionRequestOrderByCreatedAt, nil
	}
	var t TransformationListExecutionRequestOrderBy
	return "", fmt.Errorf("%s is not a valid %T", s, t)
}

func (t TransformationListExecutionRequestOrderBy) Ptr() *TransformationListExecutionRequestOrderBy {
	return &t
}

type TransformationListRequestDir string

const (
	TransformationListRequestDirAsc  TransformationListRequestDir = "asc"
	TransformationListRequestDirDesc TransformationListRequestDir = "desc"
)

func NewTransformationListRequestDirFromString(s string) (TransformationListRequestDir, error) {
	switch s {
	case "asc":
		return TransformationListRequestDirAsc, nil
	case "desc":
		return TransformationListRequestDirDesc, nil
	}
	var t TransformationListRequestDir
	return "", fmt.Errorf("%s is not a valid %T", s, t)
}

func (t TransformationListRequestDir) Ptr() *TransformationListRequestDir {
	return &t
}

type TransformationListRequestOrderBy string

const (
	TransformationListRequestOrderByCreatedAt TransformationListRequestOrderBy = "created_at"
)

func NewTransformationListRequestOrderByFromString(s string) (TransformationListRequestOrderBy, error) {
	switch s {
	case "created_at":
		return TransformationListRequestOrderByCreatedAt, nil
	}
	var t TransformationListRequestOrderBy
	return "", fmt.Errorf("%s is not a valid %T", s, t)
}

func (t TransformationListRequestOrderBy) Ptr() *TransformationListRequestOrderBy {
	return &t
}

// Request input to use for the transformation execution
type TransformationRunRequestRequest struct {
	// Headers of the request
	Headers map[string]string `json:"headers,omitempty"`
	// Body of the request
	Body *TransformationRunRequestRequestBody `json:"body,omitempty"`
	// Path of the request
	Path *string `json:"path,omitempty"`
	// String representation of the query params of the request
	Query *string `json:"query,omitempty"`
	// JSON representation of the query params
	ParsedQuery *TransformationRunRequestRequestParsedQuery `json:"parsed_query,omitempty"`
}

type TransformationUpdateRequest struct {
	// A unique, human-friendly name for the transformation
	Name *core.Optional[string] `json:"name,omitempty"`
	// JavaScript code to be executed
	Code *core.Optional[string] `json:"code,omitempty"`
	// Key-value environment variables to be passed to the transformation
	Env *core.Optional[map[string]string] `json:"env,omitempty"`
}

type TransformationUpsertRequest struct {
	// A unique, human-friendly name for the transformation
	Name string `json:"name"`
	// JavaScript code to be executed as string
	Code string `json:"code"`
	// Key-value environment variables to be passed to the transformation
	Env *core.Optional[map[string]string] `json:"env,omitempty"`
}
