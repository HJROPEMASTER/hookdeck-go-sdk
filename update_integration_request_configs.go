// This file was auto-generated by Fern from our API Definition.

package api

import (
	json "encoding/json"
	fmt "fmt"
)

// Decrypted Key/Value object of the associated configuration for that provider
type UpdateIntegrationRequestConfigs struct {
	typeName                    string
	HmacIntegrationConfigs      *HmacIntegrationConfigs
	ApiKeyIntegrationConfigs    *ApiKeyIntegrationConfigs
	HandledHmacConfigs          *HandledHmacConfigs
	BasicAuthIntegrationConfigs *BasicAuthIntegrationConfigs
	ShopifyIntegrationConfigs   *ShopifyIntegrationConfigs
}

func NewUpdateIntegrationRequestConfigsFromHmacIntegrationConfigs(value *HmacIntegrationConfigs) *UpdateIntegrationRequestConfigs {
	return &UpdateIntegrationRequestConfigs{typeName: "hmacIntegrationConfigs", HmacIntegrationConfigs: value}
}

func NewUpdateIntegrationRequestConfigsFromApiKeyIntegrationConfigs(value *ApiKeyIntegrationConfigs) *UpdateIntegrationRequestConfigs {
	return &UpdateIntegrationRequestConfigs{typeName: "apiKeyIntegrationConfigs", ApiKeyIntegrationConfigs: value}
}

func NewUpdateIntegrationRequestConfigsFromHandledHmacConfigs(value *HandledHmacConfigs) *UpdateIntegrationRequestConfigs {
	return &UpdateIntegrationRequestConfigs{typeName: "handledHmacConfigs", HandledHmacConfigs: value}
}

func NewUpdateIntegrationRequestConfigsFromBasicAuthIntegrationConfigs(value *BasicAuthIntegrationConfigs) *UpdateIntegrationRequestConfigs {
	return &UpdateIntegrationRequestConfigs{typeName: "basicAuthIntegrationConfigs", BasicAuthIntegrationConfigs: value}
}

func NewUpdateIntegrationRequestConfigsFromShopifyIntegrationConfigs(value *ShopifyIntegrationConfigs) *UpdateIntegrationRequestConfigs {
	return &UpdateIntegrationRequestConfigs{typeName: "shopifyIntegrationConfigs", ShopifyIntegrationConfigs: value}
}

func (u *UpdateIntegrationRequestConfigs) UnmarshalJSON(data []byte) error {
	valueHmacIntegrationConfigs := new(HmacIntegrationConfigs)
	if err := json.Unmarshal(data, &valueHmacIntegrationConfigs); err == nil {
		u.typeName = "hmacIntegrationConfigs"
		u.HmacIntegrationConfigs = valueHmacIntegrationConfigs
		return nil
	}
	valueApiKeyIntegrationConfigs := new(ApiKeyIntegrationConfigs)
	if err := json.Unmarshal(data, &valueApiKeyIntegrationConfigs); err == nil {
		u.typeName = "apiKeyIntegrationConfigs"
		u.ApiKeyIntegrationConfigs = valueApiKeyIntegrationConfigs
		return nil
	}
	valueHandledHmacConfigs := new(HandledHmacConfigs)
	if err := json.Unmarshal(data, &valueHandledHmacConfigs); err == nil {
		u.typeName = "handledHmacConfigs"
		u.HandledHmacConfigs = valueHandledHmacConfigs
		return nil
	}
	valueBasicAuthIntegrationConfigs := new(BasicAuthIntegrationConfigs)
	if err := json.Unmarshal(data, &valueBasicAuthIntegrationConfigs); err == nil {
		u.typeName = "basicAuthIntegrationConfigs"
		u.BasicAuthIntegrationConfigs = valueBasicAuthIntegrationConfigs
		return nil
	}
	valueShopifyIntegrationConfigs := new(ShopifyIntegrationConfigs)
	if err := json.Unmarshal(data, &valueShopifyIntegrationConfigs); err == nil {
		u.typeName = "shopifyIntegrationConfigs"
		u.ShopifyIntegrationConfigs = valueShopifyIntegrationConfigs
		return nil
	}
	return fmt.Errorf("%s cannot be deserialized as a %T", data, u)
}

func (u UpdateIntegrationRequestConfigs) MarshalJSON() ([]byte, error) {
	switch u.typeName {
	default:
		return nil, fmt.Errorf("invalid type %s in %T", u.typeName, u)
	case "hmacIntegrationConfigs":
		return json.Marshal(u.HmacIntegrationConfigs)
	case "apiKeyIntegrationConfigs":
		return json.Marshal(u.ApiKeyIntegrationConfigs)
	case "handledHmacConfigs":
		return json.Marshal(u.HandledHmacConfigs)
	case "basicAuthIntegrationConfigs":
		return json.Marshal(u.BasicAuthIntegrationConfigs)
	case "shopifyIntegrationConfigs":
		return json.Marshal(u.ShopifyIntegrationConfigs)
	}
}

type UpdateIntegrationRequestConfigsVisitor interface {
	VisitHmacIntegrationConfigs(*HmacIntegrationConfigs) error
	VisitApiKeyIntegrationConfigs(*ApiKeyIntegrationConfigs) error
	VisitHandledHmacConfigs(*HandledHmacConfigs) error
	VisitBasicAuthIntegrationConfigs(*BasicAuthIntegrationConfigs) error
	VisitShopifyIntegrationConfigs(*ShopifyIntegrationConfigs) error
}

func (u *UpdateIntegrationRequestConfigs) Accept(v UpdateIntegrationRequestConfigsVisitor) error {
	switch u.typeName {
	default:
		return fmt.Errorf("invalid type %s in %T", u.typeName, u)
	case "hmacIntegrationConfigs":
		return v.VisitHmacIntegrationConfigs(u.HmacIntegrationConfigs)
	case "apiKeyIntegrationConfigs":
		return v.VisitApiKeyIntegrationConfigs(u.ApiKeyIntegrationConfigs)
	case "handledHmacConfigs":
		return v.VisitHandledHmacConfigs(u.HandledHmacConfigs)
	case "basicAuthIntegrationConfigs":
		return v.VisitBasicAuthIntegrationConfigs(u.BasicAuthIntegrationConfigs)
	case "shopifyIntegrationConfigs":
		return v.VisitShopifyIntegrationConfigs(u.ShopifyIntegrationConfigs)
	}
}
