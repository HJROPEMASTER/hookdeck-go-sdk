// This file was auto-generated by Fern from our API Definition.

package api

import (
	json "encoding/json"
	fmt "fmt"
)

type CreateRequestBulkRetryRequestQueryEventsCount struct {
	typeName                                                                                   string
	Integer                                                                                    int
	CreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount *CreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount
	IntegerList                                                                                []int
}

func NewCreateRequestBulkRetryRequestQueryEventsCountFromInteger(value int) *CreateRequestBulkRetryRequestQueryEventsCount {
	return &CreateRequestBulkRetryRequestQueryEventsCount{typeName: "integer", Integer: value}
}

func NewCreateRequestBulkRetryRequestQueryEventsCountFromCreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount(value *CreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount) *CreateRequestBulkRetryRequestQueryEventsCount {
	return &CreateRequestBulkRetryRequestQueryEventsCount{typeName: "createRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount", CreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount: value}
}

func NewCreateRequestBulkRetryRequestQueryEventsCountFromIntegerList(value []int) *CreateRequestBulkRetryRequestQueryEventsCount {
	return &CreateRequestBulkRetryRequestQueryEventsCount{typeName: "integerList", IntegerList: value}
}

func (c *CreateRequestBulkRetryRequestQueryEventsCount) UnmarshalJSON(data []byte) error {
	var valueInteger int
	if err := json.Unmarshal(data, &valueInteger); err == nil {
		c.typeName = "integer"
		c.Integer = valueInteger
		return nil
	}
	valueCreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount := new(CreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount)
	if err := json.Unmarshal(data, &valueCreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount); err == nil {
		c.typeName = "createRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount"
		c.CreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount = valueCreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount
		return nil
	}
	var valueIntegerList []int
	if err := json.Unmarshal(data, &valueIntegerList); err == nil {
		c.typeName = "integerList"
		c.IntegerList = valueIntegerList
		return nil
	}
	return fmt.Errorf("%s cannot be deserialized as a %T", data, c)
}

func (c CreateRequestBulkRetryRequestQueryEventsCount) MarshalJSON() ([]byte, error) {
	switch c.typeName {
	default:
		return nil, fmt.Errorf("invalid type %s in %T", c.typeName, c)
	case "integer":
		return json.Marshal(c.Integer)
	case "createRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount":
		return json.Marshal(c.CreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount)
	case "integerList":
		return json.Marshal(c.IntegerList)
	}
}

type CreateRequestBulkRetryRequestQueryEventsCountVisitor interface {
	VisitInteger(int) error
	VisitCreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount(*CreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount) error
	VisitIntegerList([]int) error
}

func (c *CreateRequestBulkRetryRequestQueryEventsCount) Accept(v CreateRequestBulkRetryRequestQueryEventsCountVisitor) error {
	switch c.typeName {
	default:
		return fmt.Errorf("invalid type %s in %T", c.typeName, c)
	case "integer":
		return v.VisitInteger(c.Integer)
	case "createRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount":
		return v.VisitCreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount(c.CreateRequestBulkRetryRequestQueryEventsCountCreateRequestBulkRetryRequestQueryEventsCount)
	case "integerList":
		return v.VisitIntegerList(c.IntegerList)
	}
}
